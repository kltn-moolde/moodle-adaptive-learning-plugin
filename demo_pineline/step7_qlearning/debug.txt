FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-25 07:40:45
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-25 07:40:45
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-25 07:40:56
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-25 07:40:56
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-25 07:41:10
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-25 07:41:10
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-26 04:20:50
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-26 04:20:50
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-26 04:21:17
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-26 04:21:17
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-26 04:30:15
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-26 04:30:15
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-11-26 04:52:43
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-26 04:52:43
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-11-26 06:13:37

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
[2025-11-26 06:17:31] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:19:15] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:21:55] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:24:17] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:24:53] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:27:23] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:29:46] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:31:12] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:31:56] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:35:57] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4802
[2025-11-26 06:35:57] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 06:41:34] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4824
[2025-11-26 06:41:35] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 06:43:15] [import_questions_from_xml.php:lib.php:1507] Import called: categoryid=8, xml_length=4824
[2025-11-26 07:01:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4824
[2025-11-26 07:01:39] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 07:12:05] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=17494
[2025-11-26 07:14:04] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=17614
[2025-11-26 07:18:40] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=26531
[2025-11-26 07:20:04] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4824
[2025-11-26 07:20:04] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 07:26:11] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=9087
[2025-11-26 07:28:42] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4302
[2025-11-26 07:28:42] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 07:31:24] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4302
[2025-11-26 07:31:24] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 07:32:09] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=8655
[2025-11-26 07:35:57] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=9594
[2025-11-26 07:39:19] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4382
[2025-11-26 07:39:19] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-11-26 07:40:55] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4381
[2025-11-26 07:40:55] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-11-26 07:41:21] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4381
[2025-11-26 07:41:21] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-11-26 07:45:20] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4381
[2025-11-26 07:45:20] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-11-26 07:45:35] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4011
[2025-11-26 07:45:35] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 07:50:49] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4174
[2025-11-26 07:50:49] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 08:03:18] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4670
[2025-11-26 08:03:18] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 09:34:35] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=9282
[2025-11-26 09:34:35] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 09:47:55] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=9142
[2025-11-26 09:47:55] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 09:51:29] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=27757
[2025-11-26 09:51:29] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 10:07:18] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=28679
[2025-11-26 10:07:18] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-11-26 11:37:46] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2205
[2025-11-26 11:37:46] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 10:58:20] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=7340
[2025-12-01 10:58:20] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-12-01 11:01:53] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=8327
[2025-12-01 11:01:53] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:25:27] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=7682
[2025-12-01 12:25:27] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:28:11] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=19102
[2025-12-01 12:28:11] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-12-01 12:31:25] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=19215
[2025-12-01 12:31:25] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:33:43] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=25442
[2025-12-01 12:33:43] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-12-01 12:33:46] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=25442
[2025-12-01 12:33:46] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-12-01 12:33:50] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=25442
[2025-12-01 12:33:50] [import_questions_from_xml.php:lib.php:1507] Import thất bại: Error writing to database
[2025-12-01 12:42:58] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=6762
[2025-12-01 12:42:58] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2595
[2025-12-01 12:46:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4893
[2025-12-01 12:46:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4128
[2025-12-01 12:46:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=4673
[2025-12-01 12:46:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1700
[2025-12-01 12:52:10] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1822
[2025-12-01 12:52:10] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:12] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1453
[2025-12-01 12:52:12] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:14] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1787
[2025-12-01 12:52:14] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:16] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1589
[2025-12-01 12:52:16] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:18] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1703
[2025-12-01 12:52:18] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:20] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1565
[2025-12-01 12:52:20] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:22] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1588
[2025-12-01 12:52:22] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:24] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1466
[2025-12-01 12:52:24] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:26] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1865
[2025-12-01 12:52:26] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:52:29] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1914
[2025-12-01 12:52:29] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:37] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1793
[2025-12-01 12:53:37] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:39] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1916
[2025-12-01 12:53:39] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:41] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1697
[2025-12-01 12:53:41] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:43] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1735
[2025-12-01 12:53:43] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:45] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1658
[2025-12-01 12:53:45] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:47] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2028
[2025-12-01 12:53:47] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:49] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2318
[2025-12-01 12:53:49] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:51] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1795
[2025-12-01 12:53:51] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:53] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1887
[2025-12-01 12:53:53] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 12:53:55] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2613
[2025-12-01 12:53:55] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:06:54] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1765
[2025-12-01 14:06:54] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:06:56] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1791
[2025-12-01 14:06:56] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:06:58] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1725
[2025-12-01 14:06:58] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:00] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1986
[2025-12-01 14:07:00] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:03] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1729
[2025-12-01 14:07:03] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:05] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2124
[2025-12-01 14:07:05] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:07] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1947
[2025-12-01 14:07:07] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:09] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2075
[2025-12-01 14:07:09] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:11] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2360
[2025-12-01 14:07:11] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:07:13] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1932
[2025-12-01 14:07:13] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:12:12] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1944
[2025-12-01 14:12:12] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:12:14] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=1884
[2025-12-01 14:12:14] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:12:16] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2033
[2025-12-01 14:12:16] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:12:18] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=2102
[2025-12-01 14:12:18] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:54:01] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=9612
[2025-12-01 14:54:02] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 14:55:51] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=11068
[2025-12-01 14:55:51] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=8136
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=8214
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import called: courseid=5, xml_length=8813
[2025-12-01 16:15:26] [import_questions_from_xml.php:lib.php:1507] Import thành công: 0 câu hỏi vào category 8
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:00:51
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:00:52
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:00:52
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:00:52
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:03:10
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:03:22
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:03:41
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:16:03
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:16:03
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:16:03
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:16:03
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:16:39
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "3",
        "timecompleted": "1755309512"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900610"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900641"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 3,
        "timecompleted": 1755309512
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900610
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900641
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:18:17

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:19:39
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1753848636"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1753848636
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1753851684"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1753851684
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:20

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1754460868"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758950489"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1754460868
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758950489
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "7",
        "timecompleted": "1756088068"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088125"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758167573"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 7,
        "timecompleted": 1756088068
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088125
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758167573
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088360"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088387"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088360
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088387
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "27",
        "timecompleted": "1756088544"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088608"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.333333000",
        "rawscore": "3.33333",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758163332"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 27,
        "timecompleted": 1756088544
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088608
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0.333333,
        "rawscore": 3.33333,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758163332
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:21

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "3",
        "timecompleted": "1755309512"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900610"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900641"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 3,
        "timecompleted": 1755309512
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900610
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900641
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:20:22

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:21:12

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:21:28

==== FUNCTION CALLED ====
Received: userid=1, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 1,
    "userid2": 1,
    "userid3": 1,
    "userid4": 1,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:22:39

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:24:22

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:24:39

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:25:03

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:25:16

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:25:24

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:25:33

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:25:42

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1754460868"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758950489"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1754460868
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758950489
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "7",
        "timecompleted": "1756088068"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088125"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758167573"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 7,
        "timecompleted": 1756088068
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088125
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758167573
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:47

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088360"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088387"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088360
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088387
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:47

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "27",
        "timecompleted": "1756088544"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088608"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.333333000",
        "rawscore": "3.33333",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758163332"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 27,
        "timecompleted": 1756088544
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088608
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0.333333,
        "rawscore": 3.33333,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758163332
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:27:47

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:28:04

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:28:28

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1753848636"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1753848636
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1753851684"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1753851684
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:51

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1754460868"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758950489"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1754460868
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758950489
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "7",
        "timecompleted": "1756088068"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088125"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758167573"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 7,
        "timecompleted": 1756088068
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088125
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758167573
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088360"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088387"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088360
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088387
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "27",
        "timecompleted": "1756088544"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088608"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.333333000",
        "rawscore": "3.33333",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758163332"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 27,
        "timecompleted": 1756088544
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088608
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0.333333,
        "rawscore": 3.33333,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758163332
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:52

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "3",
        "timecompleted": "1755309512"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900610"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900641"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 3,
        "timecompleted": 1755309512
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900610
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900641
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:29:53

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1753848636"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1753848636
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1753851684"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1753851684
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:37

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1754460868"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758950489"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1754460868
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758950489
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "7",
        "timecompleted": "1756088068"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088125"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758167573"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 7,
        "timecompleted": 1756088068
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088125
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758167573
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088360"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088387"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088360
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088387
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "27",
        "timecompleted": "1756088544"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088608"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.333333000",
        "rawscore": "3.33333",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758163332"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 27,
        "timecompleted": 1756088544
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088608
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0.333333,
        "rawscore": 3.33333,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758163332
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "3",
        "timecompleted": "1755309512"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900610"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900641"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 3,
        "timecompleted": 1755309512
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900610
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900641
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:38

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:33:39

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 15:41:17

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:44

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1753848636"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1753848636
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1753851684"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1753851684
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=2, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 2,
    "userid2": 2,
    "userid3": 2,
    "userid4": 2,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:45

==== FUNCTION CALLED ====
Received: userid=3, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 3,
    "userid2": 3,
    "userid3": 3,
    "userid4": 3,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "13",
        "timecompleted": "1753848681"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "8",
        "timecompleted": "1755832943"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1755832966"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 13,
        "timecompleted": 1753848681
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 8,
        "timecompleted": 1755832943
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1755832966
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "5",
        "timecompleted": "1754460868"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758950489"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 5,
        "timecompleted": 1754460868
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758950489
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "7",
        "timecompleted": "1756088068"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088125"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758167573"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 7,
        "timecompleted": 1756088068
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088125
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758167573
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088360"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "2",
        "timecompleted": "1756088387"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088360
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 2,
        "timecompleted": 1756088387
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "27",
        "timecompleted": "1756088544"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1756088608"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.333333000",
        "rawscore": "3.33333",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1758163332"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 27,
        "timecompleted": 1756088544
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1756088608
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0.333333,
        "rawscore": 3.33333,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1758163332
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=4, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 4,
    "userid2": 4,
    "userid3": 4,
    "userid4": 4,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "4",
        "timecompleted": "1756088884"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 4,
        "timecompleted": 1756088884
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=33
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 33
}
--- RAW DB RESULT ---
{
    "102": {
        "moduleid": "102",
        "quizid": "31",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "103": {
        "moduleid": "103",
        "quizid": "32",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "104": {
        "moduleid": "104",
        "quizid": "33",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "105": {
        "moduleid": "105",
        "quizid": "34",
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 102,
        "activityid": 31,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 10",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 103,
        "activityid": 32,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 11",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 104,
        "activityid": 33,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 20",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 105,
        "activityid": 34,
        "activityname": "B\u00e0i ki\u1ec3m tra cu\u1ed1i k\u1ef3 m\u00f4n Tin h\u1ecdc - 120825 - 200",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=34
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 34
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=35
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 35
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=36
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 36
}
--- RAW DB RESULT ---
[]
--- FINAL RESULT ---
[]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=38
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 38
}
--- RAW DB RESULT ---
{
    "61": {
        "moduleid": "61",
        "quizid": "3",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "3",
        "timecompleted": "1755309512"
    },
    "106": {
        "moduleid": "106",
        "quizid": "35",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": "0.666667000",
        "rawscore": "6.66667",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900610"
    },
    "107": {
        "moduleid": "107",
        "quizid": "36",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763900641"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 61,
        "activityid": 3,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - easy",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 3,
        "timecompleted": 1755309512
    },
    {
        "moduleid": 106,
        "activityid": 35,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - medium",
        "activitytype": "quiz",
        "score": 0.666667,
        "rawscore": 6.66667,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900610
    },
    {
        "moduleid": 107,
        "activityid": 36,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 1 - hard",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763900641
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=39
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 39
}
--- RAW DB RESULT ---
{
    "66": {
        "moduleid": "66",
        "quizid": "4",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": "1.000000000",
        "rawscore": "10.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "1763795024"
    },
    "108": {
        "moduleid": "108",
        "quizid": "37",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "109": {
        "moduleid": "109",
        "quizid": "38",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 66,
        "activityid": 4,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - easy",
        "activitytype": "quiz",
        "score": 1,
        "rawscore": 10,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 1763795024
    },
    {
        "moduleid": 108,
        "activityid": 37,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 109,
        "activityid": 38,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 2 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=40
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 40
}
--- RAW DB RESULT ---
{
    "75": {
        "moduleid": "75",
        "quizid": "5",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "110": {
        "moduleid": "110",
        "quizid": "39",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "111": {
        "moduleid": "111",
        "quizid": "40",
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 75,
        "activityid": 5,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 3 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 110,
        "activityid": 39,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 111,
        "activityid": 40,
        "activityname": "b\u00e0i ki\u1ec3m tra b\u00e0i 3 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=41
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 41
}
--- RAW DB RESULT ---
{
    "76": {
        "moduleid": "76",
        "quizid": "6",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "112": {
        "moduleid": "112",
        "quizid": "41",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "113": {
        "moduleid": "113",
        "quizid": "42",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 76,
        "activityid": 6,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 4 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 112,
        "activityid": 41,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 113,
        "activityid": 42,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 4 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=42
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 42
}
--- RAW DB RESULT ---
{
    "77": {
        "moduleid": "77",
        "quizid": "7",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "114": {
        "moduleid": "114",
        "quizid": "43",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "115": {
        "moduleid": "115",
        "quizid": "44",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 77,
        "activityid": 7,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 5 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 114,
        "activityid": 43,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 115,
        "activityid": 44,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 5 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:43:46

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-12 16:44:04

==== FUNCTION CALLED ====
Received: userid=5, courseid=5, sectionid=43
✓ Validation passed
--- SQL ---

            SELECT 
                cm.id AS moduleid,
                q.id AS quizid,
                q.name AS activityname,
                'quiz' AS activitytype,
                COALESCE(qg.grade / gi.grademax, 0) AS score,
                COALESCE(qg.grade, 0) AS rawscore,
                gi.grademax AS maxscore,
                COALESCE(qa.max_attempt, 0) AS attempt,
                COALESCE(cmc.timemodified, 0) AS timecompleted
            FROM {course_modules} AS cm
            JOIN {modules} AS modn 
                ON modn.id = cm.module
            JOIN {quiz} AS q 
                ON q.id = cm.instance 
                AND modn.name = 'quiz'
            LEFT JOIN {grade_items} AS gi 
                ON gi.iteminstance = q.id 
                AND gi.itemmodule = 'quiz'
            LEFT JOIN {quiz_grades} AS qg 
                ON qg.quiz = q.id 
                AND qg.userid = :userid1
            LEFT JOIN (
                SELECT quiz, userid, MAX(attempt) AS max_attempt
                FROM {quiz_attempts}
                WHERE userid = :userid2
                GROUP BY quiz, userid
            ) qa 
                ON qa.quiz = q.id 
                AND qa.userid = :userid3
            LEFT JOIN {course_modules_completion} AS cmc 
                ON cmc.coursemoduleid = cm.id 
                AND cmc.userid = :userid4
            WHERE cm.course = :courseid
              AND modn.name = 'quiz'
              AND cm.section = :sectionid
        
--- PARAMS ---
{
    "userid1": 5,
    "userid2": 5,
    "userid3": 5,
    "userid4": 5,
    "courseid": 5,
    "sectionid": 43
}
--- RAW DB RESULT ---
{
    "78": {
        "moduleid": "78",
        "quizid": "8",
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "1",
        "timecompleted": "0"
    },
    "116": {
        "moduleid": "116",
        "quizid": "45",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    },
    "117": {
        "moduleid": "117",
        "quizid": "46",
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": "0.000000000",
        "rawscore": "0.00000",
        "maxscore": "10.00000",
        "attempt": "0",
        "timecompleted": "0"
    }
}
--- FINAL RESULT ---
[
    {
        "moduleid": 78,
        "activityid": 8,
        "activityname": "Tr\u1eafc nghi\u1ec7m b\u00e0i 6 - easy",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 1,
        "timecompleted": 0
    },
    {
        "moduleid": 116,
        "activityid": 45,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - medium",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    },
    {
        "moduleid": 117,
        "activityid": 46,
        "activityname": "B\u00e0i ki\u1ec3m tra b\u00e0i 6 - hard",
        "activitytype": "quiz",
        "score": 0,
        "rawscore": 0,
        "maxscore": 10,
        "attempt": 0,
        "timecompleted": 0
    }
]
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_user_logs.php at 2025-12-13 02:38:09
FILE LOADED: /Users/nguyenhuuloc/Documents/MyComputer/moodle/local/userlog/classes/external/get_score_section.php at 2025-12-13 02:38:09
