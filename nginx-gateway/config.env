# NGINX Gateway Configuration Variables
# Update these IPs to match your actual server deployment

# Backend Services Configuration
export USER_SERVICE_HOST="192.168.1.100"
export USER_SERVICE_PORT="8086"

export COURSE_SERVICE_HOST="192.168.1.100"
export COURSE_SERVICE_PORT="8084"

export COMMON_SERVICE_HOST="192.168.1.100"
export COMMON_SERVICE_PORT="8087"

export LTI_SERVICE_HOST="192.168.1.100"
export LTI_SERVICE_PORT="8082"

export DISCOVERY_SERVICE_HOST="192.168.1.100"
export DISCOVERY_SERVICE_PORT="8761"

# Frontend Configuration
export FRONTEND_HOST="192.168.1.200"
export FRONTEND_PORT="3000"

# Domain Configuration
export DOMAIN_NAME="your-domain.com"
export SERVER_IP="192.168.1.50"  # NGINX Gateway server IP

# SSL Configuration
export SSL_CERT_PATH="/etc/ssl/certs/nginx-selfsigned.crt"
export SSL_KEY_PATH="/etc/ssl/private/nginx-selfsigned.key"

# Load Balancing Configuration
export ENABLE_LOAD_BALANCING="false"  # Set to true if you have multiple instances

# Health Check Configuration
export HEALTH_CHECK_INTERVAL="30s"
export HEALTH_CHECK_TIMEOUT="10s"
export HEALTH_CHECK_RETRIES="3"

# Rate Limiting Configuration
export API_RATE_LIMIT="10r/s"
export AUTH_RATE_LIMIT="5r/s"
export API_BURST_LIMIT="20"
export AUTH_BURST_LIMIT="10"

# Monitoring Configuration
export PROMETHEUS_PORT="9090"
export GRAFANA_PORT="3001"
export NGINX_EXPORTER_PORT="9113"

# Logging Configuration
export LOG_LEVEL="warn"
export LOG_FORMAT="main"
export ACCESS_LOG_PATH="/var/log/nginx/access.log"
export ERROR_LOG_PATH="/var/log/nginx/error.log"

echo "NGINX Gateway configuration loaded"
echo "Backend Services:"
echo "  User Service: ${USER_SERVICE_HOST}:${USER_SERVICE_PORT}"
echo "  Course Service: ${COURSE_SERVICE_HOST}:${COURSE_SERVICE_PORT}"
echo "  Common Service: ${COMMON_SERVICE_HOST}:${COMMON_SERVICE_PORT}"
echo "  LTI Service: ${LTI_SERVICE_HOST}:${LTI_SERVICE_PORT}"
echo "  Frontend: ${FRONTEND_HOST}:${FRONTEND_PORT}"
echo "Gateway: ${SERVER_IP} (${DOMAIN_NAME})"
